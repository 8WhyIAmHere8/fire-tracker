import React from 'react';

const InlineMap = ({ highlightedBuildings },) => {
    console.log("highlightedBuildings", highlightedBuildings);   
    const buildings =[
        { id:"1", d:"M318.688 390.759L318.189 390.963L296.645 399.775L300.966 410.817L301.156 411.304L300.662 411.473L282.142 417.808L286.471 429.831L286.637 430.292L286.179 430.467L239.179 448.467L238.773 448.622L238.562 448.243L233.562 439.243L233.28 438.734L233.826 438.531L272.342 424.211L267.037 411.188L266.839 410.702L267.334 410.528L285.32 404.208L281.044 394.705L280.824 394.217L281.327 394.031L313.827 382.031L314.247 381.876L318.688 390.759Z", fill:"#60225E", stroke:"white"},
        { id:"2", d:"M563.765 511.076L575.765 518.576L576.15 518.817L575.947 519.224L574.197 522.722L584.671 526.53L585.198 526.722L575.947 545.224L575.728 545.664L575.283 545.451L550.283 533.451L549.787 533.213L550.072 532.741L563.072 511.241L563.335 510.807L563.765 511.076Z", fill:"#60225E", stroke:"white"},
        { id:"3", d:"M371 420.5V434H331V420.5H371Z", fill:"#60225E", stroke:"white"},
        { id:"4", d:"M352.5 311.5V333.5H333.5V311.5H352.5Z", fill:"#60225E", stroke:"white"},
        { id:"5", d:"M371.5 434V442H380V475.5H353V434H371.5Z", fill:"#60225E", stroke:"white"},
        { id:"6", d:"M443.5 366V369H448V377H423.5V369H427V366H443.5Z", fill:"#60225E", stroke:"white"},
        { id:"7", d:"M367.5 341.5V356.5H354V341.5H367.5Z", fill:"#60225E", stroke:"white"},
        { id:"8", d:"M392.5 406.5V425H372V406.5H392.5Z", fill:"#60225E", stroke:"white"},
        { id:"9", d:"M425 347.5V365.5H420V384.5H400V370H409.5V367.5H375.5V347.5H425Z", fill:"#60225E", stroke:"white"},
        { id:"10", d:"M510.495 169.928L513.495 190.428L513.569 190.935L513.061 190.996L496.077 193.055L496.006 192.574L493.006 172.574L492.932 172.08L493.425 172.006L509.925 169.506L510.422 169.431L510.495 169.928Z", fill:"#60225E", stroke:"white"},
        { id:"11", d:"M396 371.5V386.5H391V390.5H379.5V386.5H375.5V383.5H371V371.5H396Z", fill:"#60225E", stroke:"white"},
        { id:"12", d:"M558.5 346V396.5H552.5V410.05L551.952 409.998L530.952 407.998L530.5 407.955V353H550V346H558.5Z", fill:"#60225E", stroke:"white"},
        { id:"13", d:"M448 415H440.5V416.549L464.052 419.003L464.5 419.05V429.544L463.958 429.498L416.958 425.498L416.5 425.459V414H426V412.5H416.426L416.505 411.932L419.005 393.932L419.069 393.468L419.535 393.501L448 395.534V415Z", fill:"#60225E", stroke:"white"},
        { id:"14", d:"M26.4678 195.324L29.4678 203.324L29.6523 203.814L12.1543 209.476L11.6826 209.628L11.5254 209.158L7.52539 197.158L7.3584 196.656L7.86816 196.518L13.3682 195.018L13.7422 194.916L13.9346 195.252L15.7305 198.396L25.8418 195.025L26.2988 194.873L26.4678 195.324Z", fill:"#60225E", stroke:"white"},
        { id:"15", d:"M631.649 517.022L639.649 519.522L640.097 519.662L639.986 520.118L631.986 553.118L631.876 553.572L631.414 553.492L582.414 544.992L581.866 544.897L582.02 544.362L584.02 537.362L584.142 536.934L584.582 537.007L593.142 538.433L595.02 531.862L595.149 531.408L595.61 531.513L626.125 538.402L631.013 517.387L631.135 516.862L631.649 517.022Z", fill:"#60225E", stroke:"white"},
        { id:"16", d:"M671 516.5V524H676.601L676.492 524.591L672.992 543.591L672.9 544.085L672.406 543.991L651.406 539.991L650.924 539.899L651.007 539.415L654.007 521.915L654.086 521.456L654.55 521.503L664 522.447V516.5H671Z", fill:"#60225E", stroke:"white"},
        { id:"17", d:"M346 441.5V475H314.5V441.5H346Z", fill:"#60225E", stroke:"white"},
        { id:"18", d:"M240.463 358.812L245.963 372.312L246.151 372.773L245.689 372.963L226.662 380.769L237.959 406.801L238.147 407.235L237.724 407.447L232.146 410.235L237.96 423.803L238.15 424.248L237.712 424.453L230.707 427.721L233.932 433.248L234.211 433.727L233.707 433.955L228.207 436.455L227.752 436.662L227.545 436.207L217.545 414.207L217.338 413.752L217.793 413.545L222.84 411.25L205.544 372.705L205.33 372.229L205.815 372.035L239.815 358.535L240.276 358.353L240.463 358.812Z", fill:"#60225E", stroke:"white"},
        { id:"19", d:"M490.5 403.5V407H507V422.066L458.438 415.996L457.96 415.937L458.002 415.457L459.002 403.957L459.042 403.5H490.5Z", fill:"#60225E", stroke:"white"},
        { id:"20", d:"M510 403.045L509.457 402.998L492.317 401.528L490.96 404.697L490.83 405H465.5V401.5H452.5V390.953L453.045 391.002L491.5 394.452V390.939L492.057 391.003L509.557 393.003L510 393.054V403.045Z", fill:"#60225E", stroke:"white"},
        { id:"21", d:"M564.5 238V272H567.5V286H536.5V272H552V238H564.5Z", fill:"#60225E", stroke:"white"},
        { id:"22", d:"M543.5 300V305H557V300H567.5V317.5H533V300H543.5Z", fill:"#60225E", stroke:"white"},
        { id:"23", d:"M544.5 238.466L523.035 239.999L522.54 240.034L522.502 239.538L521.502 226.538L521.462 226.024L543.978 225.001L544.5 224.977V238.466Z", fill:"#60225E", stroke:"white"},
        { id:"24", d:"M337.5 341.5V345H348V356.5H318V341.5H337.5Z", fill:"#60225E", stroke:"white"},
        { id:"25", d:"M514.533 418.501L537.033 420.001L537.542 420.035L537.498 420.543L535.498 443.543L535.458 444H528.5V457.036L527.965 456.999L506.465 455.499L506 455.467V445H512.036L514.001 418.962L514.039 418.468L514.533 418.501Z", fill:"#60225E", stroke:"white"},
        { id:"26", d:"M106 156.664L100.307 164.428L100.15 164.477L28.6504 186.977L28.1758 187.126L28.0244 186.653L23.6748 173.122L6.14648 178.479L5.70312 178.613L5.53418 178.183L1.03418 166.683L0.84375 166.194L1.33984 166.026L30.8398 156.026L31.3154 155.865L31.4746 156.342L35.3125 167.855L57.876 159.693L54.1865 148.163L42.1855 152.964L41.709 153.155L38.0312 143.173L37.8477 142.676L38.3545 142.521L66.3545 134.021L66.8271 133.878L66.9766 134.349L73.8164 155.847L92.8535 148.708L87.5322 134.678L87.208 133.822L88.1025 134.011L97.6025 136.011L97.7646 136.045L105.874 145.168L106 145.31V156.664Z", fill:"#60225E", stroke:"white"},
        { id:"27", d:"M414.5 402V421H391.5V402H414.5Z", fill:"#60225E", stroke:"white"},
        { id:"28", d:"M180 146.438L183.611 160.883L183.103 160.989L153.712 167.177L154.032 166.324L156.91 158.647L149.171 151.876L149.097 151.812L147.545 148.708L147.538 148.692L142.719 137.127L118.664 145.473L118.194 145.635L118.028 145.167L112.528 129.667L112.352 129.168L112.86 129.02L151.816 117.677L149.04 111.197L148.823 110.69L149.349 110.523L171.349 103.523L171.788 103.384L171.963 103.811L179.963 123.311L180 123.401V146.438Z", fill:"#60225E", stroke:"white"},
        { id:"29", d:"M76.9707 1.83203L118.471 117.832L118.637 118.295L106.176 122.968L105.702 123.146L105.53 122.67L63.5303 6.66992L63.3594 6.19922L63.8311 6.0293L76.3311 1.5293L76.8018 1.35938L76.9707 1.83203Z", fill:"#60225E", stroke:"white"},
        { id:"30", d:"M476 344V354H510.5V344H524V361H507.5V377H451V364.5H436V354H446.5V344H476Z", fill:"#60225E", stroke:"white"},
    ];

    return (
      <svg viewBox="0 0 800 600" style={{ width: '100%', height: 'auto' }}>
        {buildings.map(({ id, d }) => (
          <g key={id}>
            <path
              id={String(id)}
              d={d}
              fill={ highlightedBuildings.includes(String(id))
                ? "#FFA500"   // highlighted color
                : "#60225E" } // default
        stroke="white"
              
            />
            {highlightedBuildings && highlightedBuildings.includes(id) && (
              <text
                x={getBuildingCenterX(d)}
                y={getBuildingCenterY(d)}
                textAnchor="middle"
                fontSize="20"
                fill="white"
              >
                +
              </text>
            )}
          </g>
        ))}
      </svg>
    );
  };
  
  function getBuildingCenterX(pathD) {
    // Simple way: use first M command (moveTo) to estimate X
    const match = pathD.match(/M([\d.]+)\s([\d.]+)/);
    return match ? parseFloat(match[1]) : 0;
  }
  
  function getBuildingCenterY(pathD) {
    const match = pathD.match(/M([\d.]+)\s([\d.]+)/);
    return match ? parseFloat(match[2]) : 0;
  }
  
  export default InlineMap;